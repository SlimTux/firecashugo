<!DOCTYPE html>
<html class="dark">
  <head>
    <meta charset="utf-8">
    <title>Angular Router Animations Guide</title>
    <link rel="shortcut icon" href="/img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/svelte/index.08af547b.css" />
    <script type="module" defer src="/svelte/index.7e2b9467.js" /></script>

    
    <link rel="shortcut icon" href="/img/favicon.png" type="image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="/img/favicon.png" />
    <meta name="theme-color" content="#454e56">
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <link rel="manifest" href="/manifest.json">
    


    
 




    <link rel="canonical" href="https://fireship.io/lessons/angular-router-animations/" />

    <meta name="description" content="Build beautiful router animations in Angular to transition between page changes.">
    <meta name="image" content="https://fireship.io/img/default-cover.png">

    <meta property="og:title" content="Angular Router Animations Guide" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://fireship.io/lessons/angular-router-animations/" />
    <meta property="og:image" content="https://fireship.io/img/default-cover.png" />
    <meta property="og:description" content="Build beautiful router animations in Angular to transition between page changes." />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@fireship_dev">
    <meta name="twitter:title" content="Angular Router Animations Guide">
    <meta name="twitter:description" content="Build beautiful router animations in Angular to transition between page changes.">
    <meta name="twitter:image" content="https://fireship.io/img/default-cover.png">
    
    <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', () => {
              navigator.serviceWorker.register('/sw.js');
          });
      }
    </script>

  </head>
  <body>
    <global-data 
    permalink="https://fireship.io/lessons/angular-router-animations/" 
    vimeo=""
    youtube="7JA90VI9fAI"
    free=""
    next="https://fireship.io/lessons/ts-decorators-by-example/" 
    prev="https://fireship.io/lessons/firestore-array-queries-guide/">
  </global-data>

    
<nav class="flex justify-between container p-6 md:p-8">
  <a
    class="flex justify-center items-center text-center w-12 h-12 logo-gif"
    href="/"
  >
    <img id="logo" src="/img/logo.svg" alt="logo" />
    <img class="relative bottom-1 left-1" id="logoBg" src="/img/fire.gif" alt="fire background" />
  </a>

  <ul class="flex justify-center items-center">
    <if-pro>
      <li slot="basic" class="mx-2 md:mx-4  hover:scale-105 transition-transform">
        <a href="/pro" class="font-display text-base font-normal text-green-500 border-green-400 border rounded-md px-2 py-1 hover:drop-shadow-[0_0_9px_rgba(34,197,94,0.9)]">PRO</a>
      </li>
    </if-pro>
    <li class="mx-2 md:mx-4 hover:scale-105 transition-transform">
      <a href="/lessons" class="font-sans text-xl font-bold leading-none text-gray2 hover:text-white">Resources</a>
    </li>
    <li class="mx-2 md:mx-4  hover:scale-105 transition-transform">
      <a href="/courses" class="font-sans text-xl font-bold leading-none text-gray2 gradient-slide">Activities</a>
    </li>
    <li class="ml-2">
      <modal-action type="open" name="search">
        <button class="p-2 mr-2 hidden md:flex justify-between items-center bg-white bg-opacity-10 hover:bg-opacity-20 border border-gray4 hover:border-purple-500 
                 shadow-xl hover:drop-shadow-[0_0_7px_rgba(168,85,247,0.5)] transition-all">
          <span class="text-gray2 w-4 mx-2">
<svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="search" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fk-search fk-w-16 fk-9x">
<g class="fk-group"><path fill="currentColor" d="M208 80a128 128 0 1 1-90.51 37.49A127.15 127.15 0 0 1 208 80m0-80C93.12 0 0 93.12 0 208s93.12 208 208 208 208-93.12 208-208S322.88 0 208 0z" class="fk-secondary"></path><path fill="currentColor" d="M504.9 476.7L476.6 505a23.9 23.9 0 0 1-33.9 0L343 405.3a24 24 0 0 1-7-17V372l36-36h16.3a24 24 0 0 1 17 7l99.7 99.7a24.11 24.11 0 0 1-.1 34z" class="fk-primary">
</path></g></svg></span>
          <span class="mr-12">Search</span>
          <span class="mx-2 text-xs border border-gray4 rounded-md p-1 px-2">/</span>
        </button>
        <button class="flex md:hidden">
          <span class="text-gray2 w-6 mx-2">
<svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="search" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fk-search fk-w-16 fk-9x">
<g class="fk-group"><path fill="currentColor" d="M208 80a128 128 0 1 1-90.51 37.49A127.15 127.15 0 0 1 208 80m0-80C93.12 0 0 93.12 0 208s93.12 208 208 208 208-93.12 208-208S322.88 0 208 0z" class="fk-secondary"></path><path fill="currentColor" d="M504.9 476.7L476.6 505a23.9 23.9 0 0 1-33.9 0L343 405.3a24 24 0 0 1-7-17V372l36-36h16.3a24 24 0 0 1 17 7l99.7 99.7a24.11 24.11 0 0 1-.1 34z" class="fk-primary">
</path></g></svg></span>
        </button>
        </modal-action>
      </li>
    <li class="ml-2 mr-6 relative">
      <if-user>
        <a href="/dashboard">
          <user-avatar></user-avatar>
        </a>
        <modal-action slot="signed-out" name="signin" type="open">
          <button class="relative hidden md:inline-block px-4 py-2 text-xl font-display text-black hover:text-white bg-white 
                hover:bg-purple-600 drop-shadow-[6px_6px_0_black] hover:drop-shadow-[0_0_7px_rgba(168,85,247,0.5)] transition-all duration-300">
            login
          </button>
          <button class="flex md:hidden">
            <span class="text-gray2 w-6 mx-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M352 96h64c17.7 0 32 14.3 32 32V384c0 17.7-14.3 32-32 32H352c-17.7 0-32 14.3-32 32s14.3 32 32 32h64c53 0 96-43 96-96V128c0-53-43-96-96-96H352c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-7.5 177.4c4.8-4.5 7.5-10.8 7.5-17.4s-2.7-12.9-7.5-17.4l-144-136c-7-6.6-17.2-8.4-26-4.6s-14.5 12.5-14.5 22v72H32c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H160v72c0 9.6 5.7 18.2 14.5 22s19 2 26-4.6l144-136z"/></svg>
</span>
          </button>
        </modal-action>
      </if-user>
    </li>


  </ul>
</nav>


    
<main class="container">


	<div class="flex w-full justify-between">


		<article itemscope itemtype="http://schema.org/Article" class="w-full">
			<meta itemprop="datePublished" content="2019-02-10 07:42:41 -0700 -0700" />
			<meta itemprop="dateModified" content="2019-02-10 07:42:41 -0700 -0700" />
			<meta itemprop="image" content="img/featured.png" />
			<meta itemprop="publisher" content="fireship.io" />


			<header>

				
				
				<div itemprop="video" itemscope itemtype="http://schema.org/VideoObject">
					<iframe class="w-full aspect-video" src="https://www.youtube.com/embed/7JA90VI9fAI"
						frameborder="0"
						allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
						allowfullscreen></iframe>

					<meta itemprop="embedUrl" content="https://www.youtube.com/embed/7JA90VI9fAI" />
					<meta itemprop="thumbnailUrl" content="" />
					<meta itemprop="description" content="Build beautiful router animations in Angular to transition between page changes." />
					<meta itemprop="uploadDate" content="2019-02-10 07:42:41 -0700 -0700" />
					<meta itemprop="publisher" content="Fireship" />
				</div>
				

				

				<div class="bg-gray6 py-5 px-3 rounded-lg mb-4 flex justify-between mt-3">

					
					
					<a class="flex items-center no-underline" itemprop="author" name="Jeff Delaney" href="/contributors/jeff-delaney/">
						<img class="w-10 h-10 rounded-full block" src="/contributors/img/jeff-delaney.webp" alt="Jeff Delaney avatar">
						<span class="flex flex-col ml-2">
							<span class="no-underline">By Jeff Delaney</span>
							<span class="text-xs text-gray4">Posted <time itemprop="dateModified">Feb 10, 2019</time>
						</span>
	
					</a>

					
					<span>
						
							<a href="/tags/angular"><span class="tag tag-angular">#angular</span></a>
						
							<a href="/tags/animation"><span class="tag tag-animation">#animation</span></a>
						

						
							<a class="btn btn-transparent ml-4" href="https://github.com/fireship-io/165-angular-router-animations">
								Source Code
							</a>
						
					</span>
					
				
				</div>

			</header>



			
			<section class="prose dark:prose-invert max-w-full lesson-content" itemprop="articleBody">
				


				<h1 itemprop="name headline" id="angular-router-animations-guide" class="gradient-text">
					Angular Router Animations Guide
				</h1>


				<p>Smooth animated router transitions will impress your users and set your app apart from the crowd. In the following lesson, you will learn how to build complex <a href="https://angular.io/guide/route-animations">router transition animations</a> in Angular.</p>
<figure><img src="img/router-animations.gif"
         alt="Angular router animations demo"/>
</figure>

<p>Here&rsquo;s a summary of the animations that we will build from scratch.</p>
<ul>
<li><em>fader</em> basic fade in</li>
<li><em>slider</em> slide in from left or right</li>
<li><em>transformer</em> translate, scale, and rotate</li>
<li><em>stepper</em> complex keyframed animation sequences</li>
</ul>
<h2 id="router-animations-setup">Router Animations Setup</h2>
<p>Let&rsquo;s start by taking care of the initial Angular Router animations boilerplate. Also, generate a few components so we have some content to route to.</p>
<h3 id="import-the-browseranimationsmodule">Import the BrowserAnimationsModule</h3>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_ng_component_ts</title><path d="M2.73,6.67,15.85,2V30L4.77,23.88Z" style="fill:#de3641"/><path d="M15.85,2,29.27,6.59,27.08,23.8,15.85,30Z" style="fill:#b13138"/><path d="M15.85,5.14l8.53,18.23H21.47l-1.82-4.16h-3.8V16.73h2.77L15.85,11l-2.33,5.73h2.33v2.48H12.38l-1.63,4.16H7.61Z" style="fill:#fff"/><path d="M27.41,19.65a2.81,2.81,0,0,1,1.41.81,3.72,3.72,0,0,1,.54.72s-1,.69-1.57,1.06a.5.5,0,0,1-.2-.22,1.28,1.28,0,0,0-1.06-.64.92.92,0,0,0-1.12.91.83.83,0,0,0,.1.42,2.23,2.23,0,0,0,1.31.88c1.62.7,2.31,1.16,2.74,1.81a3.28,3.28,0,0,1,.26,2.76A3,3,0,0,1,27.31,30a6.93,6.93,0,0,1-1.72,0,4.15,4.15,0,0,1-2.3-1.2,4,4,0,0,1-.59-.87l.21-.13.84-.48.65-.38.14.2a3,3,0,0,0,.86.82,2.1,2.1,0,0,0,2.2-.11,1,1,0,0,0,.13-1.25,3.72,3.72,0,0,0-1.55-.9A5.6,5.6,0,0,1,24,24.32a3,3,0,0,1-.62-1.13,4.53,4.53,0,0,1,0-1.44A2.76,2.76,0,0,1,25.7,19.6,5.73,5.73,0,0,1,27.41,19.65Zm-5.31.94v.93H19.16v8.36H17.08V21.52H14.14v-.91a8.9,8.9,0,0,1,0-.93h8v.92Z" style="fill:#007acc"/></svg></span> app.module.ts
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserAnimationsModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser/animations&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">@NgModule</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">AppComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RightPageComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">LeftPageComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">AboutPageComponent</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">BrowserModule</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">BrowserAnimationsModule</span> <span class="c1">// &lt;-- here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">AppRoutingModule</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</span></span></code></pre></div><h3 id="wrap-the-router-outlet">Wrap the Router Outlet</h3>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_html</title><polygon points="5.902 27.201 3.655 2 28.345 2 26.095 27.197 15.985 30 5.902 27.201" style="fill:#e44f26"/><polygon points="16 27.858 24.17 25.593 26.092 4.061 16 4.061 16 27.858" style="fill:#f1662a"/><polygon points="16 13.407 11.91 13.407 11.628 10.242 16 10.242 16 7.151 15.989 7.151 8.25 7.151 8.324 7.981 9.083 16.498 16 16.498 16 13.407" style="fill:#ebebeb"/><polygon points="16 21.434 15.986 21.438 12.544 20.509 12.324 18.044 10.651 18.044 9.221 18.044 9.654 22.896 15.986 24.654 16 24.65 16 21.434" style="fill:#ebebeb"/><polygon points="15.989 13.407 15.989 16.498 19.795 16.498 19.437 20.507 15.989 21.437 15.989 24.653 22.326 22.896 22.372 22.374 23.098 14.237 23.174 13.407 22.341 13.407 15.989 13.407" style="fill:#fff"/><polygon points="15.989 7.151 15.989 9.071 15.989 10.235 15.989 10.242 23.445 10.242 23.445 10.242 23.455 10.242 23.517 9.548 23.658 7.981 23.732 7.151 15.989 7.151" style="fill:#fff"/></svg></span> app.component.html
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="err">[@</span><span class="na">routeAnimations</span><span class="err">]=&#34;</span><span class="na">prepareRoute</span><span class="err">(</span><span class="na">outlet</span><span class="err">)&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">router-outlet</span> <span class="err">#</span><span class="na">outlet</span><span class="o">=</span><span class="s">&#34;outlet&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>The animations must be included in the app component. Uncomment the name of the animation you wish to use.</p>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_ng_component_ts</title><path d="M2.73,6.67,15.85,2V30L4.77,23.88Z" style="fill:#de3641"/><path d="M15.85,2,29.27,6.59,27.08,23.8,15.85,30Z" style="fill:#b13138"/><path d="M15.85,5.14l8.53,18.23H21.47l-1.82-4.16h-3.8V16.73h2.77L15.85,11l-2.33,5.73h2.33v2.48H12.38l-1.63,4.16H7.61Z" style="fill:#fff"/><path d="M27.41,19.65a2.81,2.81,0,0,1,1.41.81,3.72,3.72,0,0,1,.54.72s-1,.69-1.57,1.06a.5.5,0,0,1-.2-.22,1.28,1.28,0,0,0-1.06-.64.92.92,0,0,0-1.12.91.83.83,0,0,0,.1.42,2.23,2.23,0,0,0,1.31.88c1.62.7,2.31,1.16,2.74,1.81a3.28,3.28,0,0,1,.26,2.76A3,3,0,0,1,27.31,30a6.93,6.93,0,0,1-1.72,0,4.15,4.15,0,0,1-2.3-1.2,4,4,0,0,1-.59-.87l.21-.13.84-.48.65-.38.14.2a3,3,0,0,0,.86.82,2.1,2.1,0,0,0,2.2-.11,1,1,0,0,0,.13-1.25,3.72,3.72,0,0,0-1.55-.9A5.6,5.6,0,0,1,24,24.32a3,3,0,0,1-.62-1.13,4.53,4.53,0,0,1,0-1.44A2.76,2.76,0,0,1,25.7,19.6,5.73,5.73,0,0,1,27.41,19.65Zm-5.31.94v.93H19.16v8.36H17.08V21.52H14.14v-.91a8.9,8.9,0,0,1,0-.93h8v.92Z" style="fill:#007acc"/></svg></span> foo.component.ts
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kd">@Component</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">animations</span><span class="o">:</span> <span class="p">[</span> <span class="c1">// &lt;-- add your animations here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// fader,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// slider,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// transformer,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">stepper</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">prepareRoute</span><span class="p">(</span><span class="nx">outlet</span>: <span class="kt">RouterOutlet</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">outlet</span> <span class="o">&amp;&amp;</span> <span class="nx">outlet</span><span class="p">.</span><span class="nx">activatedRouteData</span> <span class="o">&amp;&amp;</span> <span class="nx">outlet</span><span class="p">.</span><span class="nx">activatedRouteData</span><span class="p">[</span><span class="s1">&#39;animation&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="variable-animations-with-router-data-optional">Variable Animations with Router Data (Optional)</h3>
<p>We can pass data into the router to customize animations on a component-by-component basis. For example, we might want apply different animations for components based on their perceived position in the UI.</p>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_ng_component_ts</title><path d="M2.73,6.67,15.85,2V30L4.77,23.88Z" style="fill:#de3641"/><path d="M15.85,2,29.27,6.59,27.08,23.8,15.85,30Z" style="fill:#b13138"/><path d="M15.85,5.14l8.53,18.23H21.47l-1.82-4.16h-3.8V16.73h2.77L15.85,11l-2.33,5.73h2.33v2.48H12.38l-1.63,4.16H7.61Z" style="fill:#fff"/><path d="M27.41,19.65a2.81,2.81,0,0,1,1.41.81,3.72,3.72,0,0,1,.54.72s-1,.69-1.57,1.06a.5.5,0,0,1-.2-.22,1.28,1.28,0,0,0-1.06-.64.92.92,0,0,0-1.12.91.83.83,0,0,0,.1.42,2.23,2.23,0,0,0,1.31.88c1.62.7,2.31,1.16,2.74,1.81a3.28,3.28,0,0,1,.26,2.76A3,3,0,0,1,27.31,30a6.93,6.93,0,0,1-1.72,0,4.15,4.15,0,0,1-2.3-1.2,4,4,0,0,1-.59-.87l.21-.13.84-.48.65-.38.14.2a3,3,0,0,0,.86.82,2.1,2.1,0,0,0,2.2-.11,1,1,0,0,0,.13-1.25,3.72,3.72,0,0,0-1.55-.9A5.6,5.6,0,0,1,24,24.32a3,3,0,0,1-.62-1.13,4.53,4.53,0,0,1,0-1.44A2.76,2.76,0,0,1,25.7,19.6,5.73,5.73,0,0,1,27.41,19.65Zm-5.31.94v.93H19.16v8.36H17.08V21.52H14.14v-.91a8.9,8.9,0,0,1,0-.93h8v.92Z" style="fill:#007acc"/></svg></span> app-routing.module.ts
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">AboutPageComponent</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">RightPageComponent</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">animation</span><span class="o">:</span> <span class="s1">&#39;isRight&#39;</span> <span class="p">}</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">LeftPageComponent</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">animation</span><span class="o">:</span> <span class="s1">&#39;isLeft&#39;</span> <span class="p">}</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span>
</span></span></code></pre></div><h2 id="create-the-animations">Create the Animations</h2>
<p>Now it&rsquo;s time for the fun part - animating. Let&rsquo;s look at four animation examples that become increasingly more complex after each step.</p>
<p>Create a file named <em>route-animations.ts</em> in the app dir.</p>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_ng_component_ts</title><path d="M2.73,6.67,15.85,2V30L4.77,23.88Z" style="fill:#de3641"/><path d="M15.85,2,29.27,6.59,27.08,23.8,15.85,30Z" style="fill:#b13138"/><path d="M15.85,5.14l8.53,18.23H21.47l-1.82-4.16h-3.8V16.73h2.77L15.85,11l-2.33,5.73h2.33v2.48H12.38l-1.63,4.16H7.61Z" style="fill:#fff"/><path d="M27.41,19.65a2.81,2.81,0,0,1,1.41.81,3.72,3.72,0,0,1,.54.72s-1,.69-1.57,1.06a.5.5,0,0,1-.2-.22,1.28,1.28,0,0,0-1.06-.64.92.92,0,0,0-1.12.91.83.83,0,0,0,.1.42,2.23,2.23,0,0,0,1.31.88c1.62.7,2.31,1.16,2.74,1.81a3.28,3.28,0,0,1,.26,2.76A3,3,0,0,1,27.31,30a6.93,6.93,0,0,1-1.72,0,4.15,4.15,0,0,1-2.3-1.2,4,4,0,0,1-.59-.87l.21-.13.84-.48.65-.38.14.2a3,3,0,0,0,.86.82,2.1,2.1,0,0,0,2.2-.11,1,1,0,0,0,.13-1.25,3.72,3.72,0,0,0-1.55-.9A5.6,5.6,0,0,1,24,24.32a3,3,0,0,1-.62-1.13,4.53,4.53,0,0,1,0-1.44A2.76,2.76,0,0,1,25.7,19.6,5.73,5.73,0,0,1,27.41,19.65Zm-5.31.94v.93H19.16v8.36H17.08V21.52H14.14v-.91a8.9,8.9,0,0,1,0-.93h8v.92Z" style="fill:#007acc"/></svg></span> route-animations.ts
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">trigger</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">style</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">group</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">animateChild</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">animate</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">keyframes</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/animations&#39;</span><span class="p">;</span>
</span></span></code></pre></div><h3 id="basic-fade-in">Basic Fade In</h3>
<p>Let&rsquo;s start with a basic animation that is applied the same for every route.</p>
<p><video controls src="https://firebasestorage.googleapis.com/v0/b/fireship-app.appspot.com/o/assets%2FE165-RouterAnimations%2F14-basic-demo.mp4?alt=media&token=042fb010-8a12-45b1-aaf4-9abae25b4b9a"></video></p>
<p>A few important notes about the code below:</p>
<ul>
<li>The trigger name of <em>routeAnimations</em> must match the trigger used in the app component HTML.</li>
<li>Using wildcard syntax like <code>* &lt;=&gt; *</code> applies the default animation to all routes.</li>
<li>When an animation is triggered we have access the the previous page via the <code>:leave</code> selector, and the current page via the <code>:enter</code> selector. We can query these elements to style and animate them.</li>
</ul>
<p>The animation below first hides both pages, then defines an animation to fade in the new page.</p>


<div class="file-name">
  <span class="file-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>file_type_ng_component_ts</title><path d="M2.73,6.67,15.85,2V30L4.77,23.88Z" style="fill:#de3641"/><path d="M15.85,2,29.27,6.59,27.08,23.8,15.85,30Z" style="fill:#b13138"/><path d="M15.85,5.14l8.53,18.23H21.47l-1.82-4.16h-3.8V16.73h2.77L15.85,11l-2.33,5.73h2.33v2.48H12.38l-1.63,4.16H7.61Z" style="fill:#fff"/><path d="M27.41,19.65a2.81,2.81,0,0,1,1.41.81,3.72,3.72,0,0,1,.54.72s-1,.69-1.57,1.06a.5.5,0,0,1-.2-.22,1.28,1.28,0,0,0-1.06-.64.92.92,0,0,0-1.12.91.83.83,0,0,0,.1.42,2.23,2.23,0,0,0,1.31.88c1.62.7,2.31,1.16,2.74,1.81a3.28,3.28,0,0,1,.26,2.76A3,3,0,0,1,27.31,30a6.93,6.93,0,0,1-1.72,0,4.15,4.15,0,0,1-2.3-1.2,4,4,0,0,1-.59-.87l.21-.13.84-.48.65-.38.14.2a3,3,0,0,0,.86.82,2.1,2.1,0,0,0,2.2-.11,1,1,0,0,0,.13-1.25,3.72,3.72,0,0,0-1.55-.9A5.6,5.6,0,0,1,24,24.32a3,3,0,0,1-.62-1.13,4.53,4.53,0,0,1,0-1.44A2.76,2.76,0,0,1,25.7,19.6,5.73,5.73,0,0,1,27.41,19.65Zm-5.31.94v.93H19.16v8.36H17.08V21.52H14.14v-.91a8.9,8.9,0,0,1,0-.93h8v.92Z" style="fill:#007acc"/></svg></span> foo.component.ts
</div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">fader</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;routeAnimations&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* &lt;=&gt; *&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Set a default  style for enter and leave
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter, :leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">          <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;absolute&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">left</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">opacity</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(0) translateY(100%)&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}),</span>
</span></span><span class="line"><span class="cl">      <span class="p">]),</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Animate the new page in
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;600ms ease&#39;</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="nx">opacity</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(1) translateY(0)&#39;</span> <span class="p">})),</span>
</span></span><span class="line"><span class="cl">      <span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">]),</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span></code></pre></div><h3 id="slide-in-from-left-or-right">Slide in from Left or Right</h3>
<p>In this example, we will write a function that can be reused to generate an animation for both left and right directions.</p>
<p><video controls src="https://firebasestorage.googleapis.com/v0/b/fireship-app.appspot.com/o/assets%2FE165-RouterAnimations%2F14-slide-demo.mp4?alt=media&token=522c3f3f-6a2d-4c5d-81c1-4f8f2a53a423"></video></p>
<ul>
<li>We set different transitions based on the <em>isLeft</em> or <em>isRight</em> data contiained in the router.</li>
<li><em>:leave</em> queries are marked optional because it is not present on the initial page load</li>
<li>The <code>group</code> method is used run multiple animations concurrently.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">slider</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;routeAnimations&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* =&gt; isLeft&#39;</span><span class="p">,</span> <span class="nx">slideTo</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* =&gt; isRight&#39;</span><span class="p">,</span> <span class="nx">slideTo</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;isRight =&gt; *&#39;</span><span class="p">,</span> <span class="nx">slideTo</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;isLeft =&gt; *&#39;</span><span class="p">,</span> <span class="nx">slideTo</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">slideTo</span><span class="p">(</span><span class="nx">direction</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">optional</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">optional</span>: <span class="kt">true</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter, :leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">style</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;absolute&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">top</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span><span class="nx">direction</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span> <span class="nx">optional</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">style</span><span class="p">({</span> <span class="p">[</span><span class="nx">direction</span><span class="p">]</span><span class="o">:</span> <span class="s1">&#39;-100%&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">group</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;600ms ease&#39;</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="p">[</span><span class="nx">direction</span><span class="p">]</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">}))</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span> <span class="nx">optional</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;600ms ease&#39;</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="p">[</span><span class="nx">direction</span><span class="p">]</span><span class="o">:</span> <span class="s1">&#39;0%&#39;</span><span class="p">}))</span>
</span></span><span class="line"><span class="cl">      <span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Normalize the page style... Might not be necessary
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Required only if you have child animations on the page
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// query(&#39;:leave&#39;, animateChild()),
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// query(&#39;:enter&#39;, animateChild()),
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="configurable-css-transformations">Configurable CSS Transformations</h3>
<p>Rather than animating the <em>right</em> or <em>left</em> style attributes, we can achieve better flexibility and control with a <a href="https://www.w3schools.com/cssref/css3_pr_transform.asp">transform</a>. This demo is similar to the previous sliding animation, but adds a rotation to make it drop and spin in from the top corner. Tweak the named arguments to easily modify its behavior.</p>
<p><video controls src="https://firebasestorage.googleapis.com/v0/b/fireship-app.appspot.com/o/assets%2FE165-RouterAnimations%2F14-trans-demo.mp4?alt=media&token=c5083c39-4a9b-44b0-9411-16f712aba6a5"></video></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">transformer</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;routeAnimations&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* =&gt; isLeft&#39;</span><span class="p">,</span> <span class="nx">transformTo</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">rotate</span><span class="o">:</span> <span class="o">-</span><span class="mi">720</span> <span class="p">})</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* =&gt; isRight&#39;</span><span class="p">,</span> <span class="nx">transformTo</span><span class="p">({</span> <span class="nx">x</span>: <span class="kt">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">rotate</span>: <span class="kt">90</span> <span class="p">})</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;isRight =&gt; *&#39;</span><span class="p">,</span> <span class="nx">transformTo</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">rotate</span>: <span class="kt">360</span> <span class="p">})</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;isLeft =&gt; *&#39;</span><span class="p">,</span> <span class="nx">transformTo</span><span class="p">({</span> <span class="nx">x</span>: <span class="kt">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nx">rotate</span><span class="o">:</span> <span class="o">-</span><span class="mi">360</span> <span class="p">})</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">transformTo</span><span class="p">({</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">rotate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">optional</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">optional</span>: <span class="kt">true</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter, :leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">style</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;absolute&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">top</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">left</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span> <span class="nx">optional</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="sb">`translate(</span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">%, </span><span class="si">${</span><span class="nx">y</span><span class="si">}</span><span class="sb">%) rotate(</span><span class="si">${</span><span class="nx">rotate</span><span class="si">}</span><span class="sb">deg)`</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">group</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;600ms ease-out&#39;</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="sb">`translate(</span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">%, </span><span class="si">${</span><span class="nx">y</span><span class="si">}</span><span class="sb">%) rotate(</span><span class="si">${</span><span class="nx">rotate</span><span class="si">}</span><span class="sb">deg)`</span><span class="p">}))</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span> <span class="nx">optional</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;600ms ease-out&#39;</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="sb">`translate(0, 0) rotate(0)`</span><span class="p">}))</span>
</span></span><span class="line"><span class="cl">      <span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">]),</span>
</span></span><span class="line"><span class="cl">  <span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="keyframe-sequence">Keyframe Sequence</h3>
<p><a href="https://tympanus.net/codrops/css_reference/keyframes/">Keyframes</a> allow us build an animation in multiple complex steps. The effect below makes it look like the new page pops up from the bottom, then bumps the old page off the screen in explosive fashion. The <code>offset</code> property is used by the <a href="https://angular.io/api/animations/keyframes">Angular keyframe function</a> determine when (as a percent of the total animation time) a style will be applied. In brief, keyframes allow us to compose complex sequences of style changes.</p>
<p><video controls src="https://firebasestorage.googleapis.com/v0/b/fireship-app.appspot.com/o/assets%2FE165-RouterAnimations%2F14-keyf-demo.mp4?alt=media&token=b11156cd-ea9e-4ce0-8916-1604f82b26c4"></video></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">stepper</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;routeAnimations&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;* &lt;=&gt; *&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter, :leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">          <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;absolute&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">left</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}),</span>
</span></span><span class="line"><span class="cl">      <span class="p">]),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">group</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">        <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:enter&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">          <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;2000ms ease&#39;</span><span class="p">,</span> <span class="nx">keyframes</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(0) translateX(100%)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">0</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(0.5) translateX(25%)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">0.3</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(1) translateX(0%)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">1</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">          <span class="p">])),</span>
</span></span><span class="line"><span class="cl">        <span class="p">]),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">query</span><span class="p">(</span><span class="s1">&#39;:leave&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">          <span class="nx">animate</span><span class="p">(</span><span class="s1">&#39;2000ms ease&#39;</span><span class="p">,</span> <span class="nx">keyframes</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(1)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">0</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;scale(0.5) translateX(-25%) rotate(0)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">0.35</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">            <span class="nx">style</span><span class="p">({</span> <span class="nx">opacity</span>: <span class="kt">0</span><span class="p">,</span> <span class="nx">transform</span><span class="o">:</span> <span class="s1">&#39;translateX(-50%) rotate(-180deg) scale(6)&#39;</span><span class="p">,</span> <span class="nx">offset</span>: <span class="kt">1</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">          <span class="p">])),</span>
</span></span><span class="line"><span class="cl">        <span class="p">])</span>
</span></span><span class="line"><span class="cl">      <span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span></code></pre></div>

				
			</section>

			<section id="qna" class="my-12 flex flex-col justify-between items-center">
    <h2 class="text-2xl mb-4">Questions? Let's chat</h2>
    <a href="https://discord.gg/SpDdJ3qaKK" class="btn btn-purple btn-lg btn-glow btn-display mx-auto"><span class="w-8 mr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg></span> Open Discord</a>
    <div class="mt-3">
        <discord-count></discord-count>
    </div>
</section>

		</article>
		
		
		<aside class="tableOfContents">
			<nav id="TableOfContents">
  <ul>
    <li><a href="#router-animations-setup">Router Animations Setup</a>
      <ul>
        <li><a href="#import-the-browseranimationsmodule">Import the BrowserAnimationsModule</a></li>
        <li><a href="#wrap-the-router-outlet">Wrap the Router Outlet</a></li>
        <li><a href="#variable-animations-with-router-data-optional">Variable Animations with Router Data (Optional)</a></li>
      </ul>
    </li>
    <li><a href="#create-the-animations">Create the Animations</a>
      <ul>
        <li><a href="#basic-fade-in">Basic Fade In</a></li>
        <li><a href="#slide-in-from-left-or-right">Slide in from Left or Right</a></li>
        <li><a href="#configurable-css-transformations">Configurable CSS Transformations</a></li>
        <li><a href="#keyframe-sequence">Keyframe Sequence</a></li>
      </ul>
    </li>
  </ul>
</nav>
		</aside>
		
	</div>


</main>

    
<footer class="container text-center my-6 p-8 text-gray3">
    <div class="mx-auto w-24 h-1 my-12 bg-gradient-to-r from-gray5 to-gray4 rounded-full"></div>
    <div class="pt-10">Find an issue with this page? <a class="text-blue-500" href="https://github.com/fireship-io/fireship.io/tree/master/content/">Fix it on GitHub</a></div>

    <div class="py-3">
        Need help? Email <a href="mailto:henrique.castro.24@colegioplanalto.pt"><strong class="text-white font-bold">School-email</strong></a>
    </div>
    <div class="flex justify-center items-center my-2">
        <a href="https://www.youtube.com/c/Fireship"><i class="w-6 inline-block mx-2"><svg aria-hidden="true" data-prefix="fab" data-icon="youtube" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svgyoutube  "><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z" ></path></svg></i></a>
        <a href="https://twitter.com/fireship_dev"><i class="w-6 inline-block mx-2"><svg aria-hidden="true" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svgtwitter  "><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" ></path></svg></i></a>
        <a href="https://github.com/fireship-io"><i class="w-6 inline-block mx-2"><svg aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svggithub "><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" ></path></svg></i></a>
        <a href="https://discord.gg/SpDdJ3qaKK"><i class="w-6 inline-block mx-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg></i></a>
    </div>

    <h6>Helpful Links</h6>

    <div class="py-3">
        <a href="/courses">Activities</a> | 
        <a href="/lessons">Resources</a> | 
        <a href="/snippets">Snippets</a> | 
        <a href="/tags">Tags</a> | 
        <a href="/contributors">Contrib</a> |
        <a href="/privacy">Privacy</a> | 
        <a href="/terms">Terms</a>
    </div>

    
    <div class="text-xs">
        Copyleft 2023<br> 
    </div>

</footer>




    <app-signin></app-signin>
    <algolia-search></algolia-search>
    <hi-mom></hi-mom>

    <email-handler></email-handler>

    <route-loader>
      <div class="fixed w-full top-0 left-0 h-1 gradient-loader"></div>
    </route-loader>

    <toast-message></toast-message>
    <scroll-up></scroll-up>

    </div>

  </body>
</html>